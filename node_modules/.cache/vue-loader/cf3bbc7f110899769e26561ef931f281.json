{"remainingRequest":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/components/header/Header.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/components/header/Header.vue","mtime":1559595585045},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/cache-loader/dist/cjs.js","mtime":1559595767902},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '@/assets/style/partials/_colors.scss';\n\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .3s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n.weapon-header__overlay {\n  position: absolute;\n  z-index: 100;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n\n.header-items__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100px;\n  left: 0;\n  top: 0;\n}\n\n.top-items-row {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: calc(100% - 240px);\n  height: 90px;\n  margin-left: 240px;\n  transition: transform .3s;\n  z-index: 3;\n  background: linear-gradient(3deg, #392f4a 0%, #25243b 100%);\n  .swiper-slide {\n    .weapon-header {\n      img {\n        max-width: 80px;\n      }\n    }\n  }\n}\n\n.top-items-btn {\n  height: 0;\n  width: 42px;\n  position: fixed;\n  left: calc(50% + 120px);\n  top: 0;\n  transform: translateX(-50%);\n  cursor: pointer;\n  z-index: 9;\n  border-top: 16px solid rgba(255, 255, 255, .1);\n  border-left: 15px solid transparent;\n  border-right: 15px solid transparent;\n  &:before {\n    content: \"\\e900\";\n    font-family: drop;\n    color: $grey-text;\n    position: absolute;\n    top: -16px;\n    left: 19px;\n    font-size: 12px;\n    transform: rotate(90deg);\n    display: block;\n    width: 4px;\n    height: 15px;\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .top-items-btn {\n    left: 50%;\n    top: 74px;\n  }\n  .top-items-row {\n    margin-left: 0;\n    width: 100%;\n    top: 75px;\n  }\n}\n",{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components/header","sourcesContent":["<template>\n  <div style=\"position: relative\" @mouseleave=\"isStop = false\">\n    <div class=\"header-items__overlay\" @mouseover.native=\"isStop = true\"></div>\n\n    <div class=\"top-items-btn\" @click=\"toggleTopBar\"></div>\n    <swiper v-if=\"!loading\" \n      class=\"top-items-row\" \n      ref=\"mySwiper\" \n      :options=\"swiperOption\">\n      <swiperSlide style=\"text-align: center\" \n        @mouseover.native=\"over($event, weapon._id)\"\n        v-for=\"weapon in weapons\" :key=\"weapon._id\">\n        <div class=\"weapon-header__overlay\" />\n\n        <WeaponItemHeader :itemData=\"weapon\">\n        </WeaponItemHeader>\n      </swiperSlide>\n    </swiper>\n\n    <transition name=\"fade\">\n      <div class=\"weapon-header__dropdown\" \n        @mouseover.native=\"isStop = true\" \n        :class=\"`weapon-header__dropdown--${currentHoverItem._weaponRarity}`\" \n        :style=\"`left: ${computedLeftDistance}; top: ${topDistance}px`\" v-if=\"isStop\">\n        <div class=\"weapon-header__triangle\"\n              :class=\"{ 'weapon-header__triangle--right': isLastRight, 'weapon-header__triangle--left': isLastLeft }\" />\n        <div class=\"weapon-header__user\" @click=\"toUser(currentHoverItem._owner)\">\n          <img class=\"weapon-header__user-avatar\" :src=\"currentHoverItem._ownerImageURL\" alt=\"user avatar\">\n          <div class=\"weapon-header__user-name\">{{ currentHoverItem._ownerName }}</div>\n        </div>\n        <div class=\"weapon-header__name\">{{ currentHoverItem._name_hash }}</div>\n        <img class=\"weapon-header__dropdown-img\" :src=\"caseImgUrl(currentHoverItem._caseImage)\" alt=\"case img\">\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport 'swiper/dist/css/swiper.css'\nimport constants from '@/constants';\nimport WeaponItemHeader from '@/components/partials/WeaponItemHeader';\nimport _ from 'lodash';\n\nimport { swiper, swiperSlide } from 'vue-awesome-swiper'\nexport default {\n  components: {\n    WeaponItemHeader,\n    swiper,\n    swiperSlide\n  },\n  data() {\n    return {\n      weapons: [],\n      leftDistance: 0,\n      topDistance: 0,\n      rightDistance: 0,\n      viewportWidth: 0,\n      widthOfElement: 0,\n      newWeapons: [],\n      currentHoverItem: null,\n      isHidden: false,\n      isStop: false,\n      loading: true,\n      swiperOption: {\n        slidesPerView: 12,\n        touchRatio: 0,\n        setWrapperSize: true,\n        spaceBetween: 0,\n        breakpoints: {\n          1440: {\n            slidesPerView: 10,\n          },\n          1200: {\n            slidesPerView: 8,\n          },\n          992: {\n            slidesPerView: 6,\n          },\n          575: {\n            slidesPerView: 5,\n          },\n          480: {\n            slidesPerView: 4,\n          },\n          400: {\n            slidesPerView: 3,\n          }\n        }\n      },\n    }\n  },\n  computed: {\n    isLastLeft() {\n      return this.leftDistance < 270 || this.leftDistance === 76 || this.leftDistance === 0;\n    },\n    isLastRight() {\n      return this.viewportWidth - this.leftDistance < (this.widthOfElement * 2);\n    },\n    computedLeftDistance() {\n      if (this.isLastLeft) {\n        return `${this.leftDistance + this.widthOfElement + (this.widthOfElement < 97 ? 10 : 0)}px`;\n      }\n      if (this.isLastRight) {\n        return `${this.leftDistance - (this.widthOfElement < 97 ? 10 : 0)}px`;\n      }\n\n      return `${this.leftDistance + this.widthOfElement / 2}px`;\n    },\n  },\n  methods: {\n    toUser(id) {\n      this.$router.push(`/user/${id}`);\n    },\n    toggleTopBar() {\n      this.isHidden = !this.isHidden;\n      document.querySelector('.main').classList.toggle('hide-top-row');\n    },\n    caseImgUrl(imgUrl) {\n      return `${constants.imgUrl}${imgUrl}`;\n    },\n    getLeftDistance(el) {\n      const rect = el.getBoundingClientRect();\n      const docEl = document.documentElement;\n      this.viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n      this.widthOfElement = rect.width;\n      this.leftDistance = rect.left + (window.pageXOffset || docEl.scrollLeft || 0);\n      this.topDistance = 100 + rect.top + (window.pageYOffset || docEl.scrollTop || 0);\n      this.rightDistance = rect.right - (window.pageXOffset || docEl.scrollRight || 0);\n    },\n    over(e, id) {\n      this.isStop = true;\n      this.getLeftDistance(e.target);\n      this.currentHoverItem = this.weapons.find(weapon => weapon._id === id);\n    },\n    addNewWeapons() {\n      if (this.newWeapons.length && !this.isStop && !this.isHidden) {\n        this.weapons = _.drop(this.weapons, this.newWeapons[0].length);\n        this.$nextTick(() => {\n          this.weapons = this.weapons.concat(this.newWeapons[0]);\n          this.newWeapons.shift();\n            this.$nextTick(() => {\n              this.$refs.mySwiper.swiper.slideTo(20, 700); \n            }); \n        })\n      }\n    },\n  },\n  mounted() {\n    // setInterval(() => {\n    //   this.addNewWeapons();\n    // }, 2000);\n  },\n  sockets:{\n      // items(val) {\n      //   if (!this.isHidden && this.newWeapons.length < 20) {\n      //     this.newWeapons.push(JSON.parse(val));\n      //   } \n      // },\n      // drops(val) {\n      //   this.weapons = JSON.parse(val);\n      //   this.loading = false;\n      //   this.$nextTick(() => {\n      //     this.$refs.mySwiper.swiper.slideTo(20, 700); \n      //   }); \n      // }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/partials/_colors.scss';\n\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .3s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n.weapon-header__overlay {\n  position: absolute;\n  z-index: 100;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n\n.header-items__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100px;\n  left: 0;\n  top: 0;\n}\n\n.top-items-row {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: calc(100% - 240px);\n  height: 90px;\n  margin-left: 240px;\n  transition: transform .3s;\n  z-index: 3;\n  background: linear-gradient(3deg, #392f4a 0%, #25243b 100%);\n  .swiper-slide {\n    .weapon-header {\n      img {\n        max-width: 80px;\n      }\n    }\n  }\n}\n\n.top-items-btn {\n  height: 0;\n  width: 42px;\n  position: fixed;\n  left: calc(50% + 120px);\n  top: 0;\n  transform: translateX(-50%);\n  cursor: pointer;\n  z-index: 9;\n  border-top: 16px solid rgba(255, 255, 255, .1);\n  border-left: 15px solid transparent;\n  border-right: 15px solid transparent;\n  &:before {\n    content: \"\\e900\";\n    font-family: drop;\n    color: $grey-text;\n    position: absolute;\n    top: -16px;\n    left: 19px;\n    font-size: 12px;\n    transform: rotate(90deg);\n    display: block;\n    width: 4px;\n    height: 15px;\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .top-items-btn {\n    left: 50%;\n    top: 74px;\n  }\n  .top-items-row {\n    margin-left: 0;\n    width: 100%;\n    top: 75px;\n  }\n}\n</style>\n\n"]}]}