{"remainingRequest":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/pages/User.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/pages/User.vue","mtime":1559595585188},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/cache-loader/dist/cjs.js","mtime":1559595767902},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '@/assets/style/partials/_colors.scss';\n.pagination-row {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-bottom: 30px;\n  .pagination-item {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    cursor: pointer;\n    background: rgba(0, 0, 0, .2);\n    color: $grey-text;\n    line-height: 34px;\n    text-align: center;\n    margin-right: 10px;\n    &.active {\n      background: linear-gradient(90deg, #ef2849 0%, #7568e7 100%);\n      color: #fff;\n    }\n  }\n}\n\n.board-case-counter {\n  font-size: 17px;\n  text-transform: uppercase;\n  color: $light-grey-text;\n}\n\n@media screen and (max-width: 480px){\n  .board-case-counter {\n    display: none;\n  }\n}\n",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"container\">\n    <breadcrumbs :breadcrumbs=\"breadcrumbs\"></breadcrumbs>\n\n    <user-info :userInfo=\"userInfo\"></user-info>\n    \n    <items-sell v-if=\"isLoggedUser\"></items-sell>\n\n    <board-title :type=\"'csgocases'\">\n      <span>Items</span>\n      <span class=\"board-case-counter\">{{ userCases.length }} cases opened</span>\n    </board-title>\n\n    <board>\n      <weapon-item-user v-for=\"weapon in userCases\" :itemData=\"weapon\" :key=\"weapon._id\"></weapon-item-user>\n    </board>\n\n    <!-- <div class=\"pagination-row\" v-if=\"metaData.last_page > 1\">\n      <div class=\"pagination-item\" @click=\"currentPage = (i + 1)\" :class=\"currentPage === (i + 1) ? 'active' : ''\" \n        v-for=\"(item, i) in metaData.last_page\" :key=\"i\">\n        {{ i + 1 }}\n      </div>\n    </div> -->\n  </div>\n</template>\n\n<script>\n  import UserInfo from '@/components/user/UserInfo';\n  import ItemsSell from '@/components/user/ItemsSell';\n  import Breadcrumbs from '@/components/partials/Breadcrumbs';\n  import Api from '@/api';\n  import Board from '@/components/partials/Board';\n  import { mapState } from 'vuex';\n  import BoardTitle from '@/components/partials/BoardTitle';\n  import WeaponItemUser from '@/components/partials/WeaponItemUser';\n\n  export default {\n    components: {\n      UserInfo,\n      ItemsSell,\n      BoardTitle,\n      Board,\n      WeaponItemUser,\n      Breadcrumbs\n    },\n    watch: {\n      $route: {\n        immediate: true,\n        async handler(val) {\n          this.getUserCases();\n\n          if (val.name === 'user') {\n            this.getUserInfo(val.params.id);\n          } else {\n            this.getUserTable();\n            this.userInfo = this.user;\n          }\n        }\n      },\n      currentPage() {\n        this.getUserCases();\n      }\n    },\n    computed: {\n      ...mapState('auth', ['user']),\n      isLoggedUser() {\n        return this.$route.name === 'loggedUser';\n      },\n      userId() {\n        return this.isLoggedUser ? this.user.steam_id : this.$route.params.id;\n      }\n    },\n    methods: {\n      async getUserCases() {\n        const { data } = await Api.userUserCases(this.userId, this.currentPage);\n        this.userCases = data.data;\n        console.log(data);\n        this.metaData = data.meta;\n      },\n      async getUserInfo(id) {\n        try {\n          const { data } = await Api.getUserInfo(id);\n          this.userInfo = data.user;\n        } catch (e) {\n          throw new Error(e);\n        }\n      },\n      async getUserTable() {\n        try {\n          const response = await Api.userTable();\n          console.log(response);\n        } catch (e) {\n          throw new Error(e);\n        }\n      }\n    },\n    data() {\n      return {\n        breadcrumbs: ['Home', 'Casedrop.com'],\n        userCases: [],\n        userInfo: null,\n        metaData: [],\n        currentPage: 1\n      }\n    }\n  };\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/partials/_colors.scss';\n.pagination-row {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-bottom: 30px;\n  .pagination-item {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    cursor: pointer;\n    background: rgba(0, 0, 0, .2);\n    color: $grey-text;\n    line-height: 34px;\n    text-align: center;\n    margin-right: 10px;\n    &.active {\n      background: linear-gradient(90deg, #ef2849 0%, #7568e7 100%);\n      color: #fff;\n    }\n  }\n}\n\n.board-case-counter {\n  font-size: 17px;\n  text-transform: uppercase;\n  color: $light-grey-text;\n}\n\n@media screen and (max-width: 480px){\n  .board-case-counter {\n    display: none;\n  }\n}\n</style>"]}]}