{"remainingRequest":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/pages/Case.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/pages/Case.vue","mtime":1559595585185},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/cache-loader/dist/cjs.js","mtime":1559595767902},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/@babel/runtime/helpers/builtin/es6/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/@babel/runtime/helpers/builtin/es6/asyncToGenerator\";\nimport _objectSpread from \"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Api from '@/api';\nimport BoardTitle from '@/components/partials/BoardTitle';\nimport WeaponItemDefault from '@/components/partials/WeaponItemDefault';\nimport Board from '@/components/partials/Board';\nimport Breadcrumbs from '@/components/partials/Breadcrumbs';\nimport CaseItem from '@/components/partials/CaseItem';\nimport { swiper, swiperSlide } from 'vue-awesome-swiper';\nimport ClickOutside from 'vue-click-outside';\nimport { mapMutations } from 'vuex';\nimport _ from 'lodash';\nexport default {\n  props: ['id'],\n  directives: {\n    ClickOutside: ClickOutside\n  },\n  components: {\n    BoardTitle: BoardTitle,\n    WeaponItemDefault: WeaponItemDefault,\n    Board: Board,\n    CaseItem: CaseItem,\n    Breadcrumbs: Breadcrumbs,\n    swiper: swiper,\n    swiperSlide: swiperSlide,\n    Deposit: function Deposit() {\n      return import('@/components/modals/AlertDeposit');\n    }\n  },\n  mounted: function mounted() {\n    this.caseInfo();\n  },\n  computed: {\n    priceToPay: function priceToPay() {\n      return this.boxInfo.price * this.casesToOpen;\n    },\n    buttonText: function buttonText() {\n      return this.casesToOpen > 1 ? 'Those cases' : 'This case';\n    },\n    isCaseToShow: function isCaseToShow() {\n      for (var key in this.spinnerItems) {\n        return _.isEmpty(this.spinnerItems[key]);\n      }\n    }\n  },\n  methods: _objectSpread({}, mapMutations('modals', ['setWonItems']), mapMutations('auth', ['setUserBalance']), {\n    chooseCaseNumber: function chooseCaseNumber(number) {\n      this.casesToOpen = number;\n      this.isDropdown = false;\n    },\n    reopenCase: function () {\n      var _reopenCase = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _ref, data;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return Api.reopenCase(this.id);\n\n              case 3:\n                _ref = _context.sent;\n                data = _ref.data;\n                this.casesToOpen = data.items.length;\n                data.items.forEach(function (item, i) {\n                  _this.spinnerItems[i] = _toConsumableArray(item).concat(_toConsumableArray(item));\n                });\n                this.isOpen = true;\n                this.setUserBalance(data.balance);\n                this.loading = false;\n                _context.next = 16;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                this.loading = false;\n                throw new Error(_context.t0);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 12]]);\n      }));\n\n      return function reopenCase() {\n        return _reopenCase.apply(this, arguments);\n      };\n    }(),\n    caseInfo: function () {\n      var _caseInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _ref2, data;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                this.loading = true;\n                _context2.next = 4;\n                return Api.getCaseInfo(this.id);\n\n              case 4:\n                _ref2 = _context2.sent;\n                data = _ref2.data;\n                this.boxItems = data.box_items;\n                this.boxInfo = data.box;\n\n                if (data.reopen) {\n                  this.reopenCase();\n                } else {\n                  this.loading = false;\n                }\n\n                _context2.next = 14;\n                break;\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](0);\n                this.loading = false;\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 11]]);\n      }));\n\n      return function caseInfo() {\n        return _caseInfo.apply(this, arguments);\n      };\n    }(),\n    openCases: function () {\n      var _openCases = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!this.isInSpin) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 2:\n                this.isInSpin = true;\n                this.$refs.mySwiper.forEach(function (item, i) {\n                  _this2.$refs.mySwiper[i].swiper.slideTo(46, 7000);\n                });\n                setTimeout(function () {\n                  _this2.isFinish = true;\n                }, 7000);\n                setTimeout(\n                /*#__PURE__*/\n                _asyncToGenerator(\n                /*#__PURE__*/\n                regeneratorRuntime.mark(function _callee3() {\n                  var _ref4, data, key;\n\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          _context3.next = 2;\n                          return Api.resultOfCase(_this2.id);\n\n                        case 2:\n                          _ref4 = _context3.sent;\n                          data = _ref4.data;\n\n                          for (key in _this2.spinnerItems) {\n                            _this2.spinnerItems[key] = [];\n                          }\n\n                          _this2.isOpen = false;\n                          _this2.isInSpin = false;\n                          _this2.isFinish = false;\n\n                          _this2.setWonItems(data.prize);\n\n                        case 9:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, this);\n                })), 8500);\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function openCases() {\n        return _openCases.apply(this, arguments);\n      };\n    }(),\n    buyCases: function () {\n      var _buyCases = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var _this3 = this;\n\n        var _ref5, data;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                this.loading = true;\n                _context5.next = 4;\n                return Api.buyCase(this.id, this.casesToOpen);\n\n              case 4:\n                _ref5 = _context5.sent;\n                data = _ref5.data;\n\n                if (data.result) {\n                  data.items.forEach(function (item, i) {\n                    _this3.spinnerItems[i] = _toConsumableArray(item).concat(_toConsumableArray(item));\n                  });\n                  this.isOpen = true;\n                  this.setUserBalance(data.balance);\n                } else {\n                  this.errorMsg = data.msg;\n                  this.isError = true;\n                  this.modalDeposti = true;\n                }\n\n                this.loading = false;\n                _context5.next = 13;\n                break;\n\n              case 10:\n                _context5.prev = 10;\n                _context5.t0 = _context5[\"catch\"](0);\n                throw new Error(_context5.t0);\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 10]]);\n      }));\n\n      return function buyCases() {\n        return _buyCases.apply(this, arguments);\n      };\n    }()\n  }),\n  data: function data() {\n    return {\n      breadcrumbs: ['Casedrop Cases', this.id],\n      boxItems: [],\n      spinnerItems: {\n        0: [],\n        1: [],\n        2: [],\n        3: [],\n        4: []\n      },\n      isDropdown: false,\n      isInSpin: false,\n      isFinish: false,\n      isError: false,\n      modalDeposti: false,\n      errorMsg: '',\n      casesToOpen: 1,\n      isOpen: false,\n      amountOfCases: [1, 2, 3, 4, 5],\n      boxInfo: {},\n      loading: true,\n      swiperOption: {\n        slidesPerView: 6,\n        initialSlide: 3,\n        setWrapperSize: true,\n        spaceBetween: 0,\n        touchRatio: 0,\n        centeredSlides: true\n      }\n    };\n  }\n};",{"version":3,"sources":["Case.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"spinner__wrapper--case\" v-if=\"loading\">\n    <spinner></spinner>\n  </div>\n\n  <div class=\"container\" v-else>\n    <breadcrumbs :breadcrumbs=\"breadcrumbs\"></breadcrumbs>\n    <Deposit v-if=\"modalDeposti\" \n        @close=\"modalDeposti = false\" \n      />\n\n    <div class=\"outer-slider-row\">\n      <div class=\"slider-rirle\">{{ boxInfo.name }}</div>\n\n      <div class=\"case-items__wrapper\" \n          :style=\"`max-height: ${245 * casesToOpen}px`\" \n          v-if=\"isCaseToShow && !isError\"\n        >\n        <case-item  \n          v-for=\"i in 5\" :key=\"`preview-case${i}`\" \n          :itemData=\"boxInfo\" sigleItem>\n        </case-item>\n      </div>\n\n      <div v-if=\"isError && !loading\">{{ errorMsg }}</div>\n\n      <swiper :class=\"{'box-slider--action': isInSpin, 'box-slider--finish': isFinish }\" class=\"box-slider\"  \n        v-for=\"(spinnerRow, rouletteIndex) in spinnerItems\" \n        :key=\"'roulette' + rouletteIndex\" \n        v-if=\"spinnerRow.length\" \n        ref=\"mySwiper\" \n        :options=\"swiperOption\">\n        <swiperSlide\n        v-for=\"(weapon, weaponIndex) in spinnerRow\" \n        :key=\"`roulette-item-${rouletteIndex}-${weaponIndex}`\">\n          <weapon-item-default :itemData=\"weapon\" :type=\"'spinnerWeapon'\" />\n        </swiperSlide>\n      </swiper>\n\n      <div class=\"btn-row amount-case-picker\">\n        <button :class=\"{'case-btn--disabled': isInSpin }\" class=\"gradient-btn case-btn\" \n          @click=\"openCases\" v-if=\"isOpen\">\n          {{ isInSpin ? 'Opening...' : `Open ${buttonText }` }}\n        </button>\n        \n        <template v-else>\n          <div class=\"custom-dropdown\">\n            <div class=\"dropdown-title\" @click=\"isDropdown = !isDropdown\">Cases to open:\n              <span class=\"case-counter\">{{ casesToOpen }}</span>\n            </div>\n            <div class=\"dropdown-list\" v-if=\"isDropdown\" v-click-outside=\"() => isDropdown = false\">\n              <div class=\"dropdown-triangle\"></div>\n              <div class=\"dropdown-list-item\" @click=\"chooseCaseNumber(number)\"\n                v-for=\"number in amountOfCases\" :key=\"'number' + number\">\n                Cases to open: {{ number }}\n              </div>\n            </div>\n          </div>\n          <button class=\"gradient-btn case-btn\" @click=\"buyCases\">\n            Buy {{ buttonText }} ${{ priceToPay | priceFormater }}\n          </button>\n        </template>\n      </div>\n    </div>\n    \n    <board-title :type=\"'csgocases'\">Casedrop Cases</board-title>\n\n    <board>\n      <weapon-item-default \n        v-for=\"(item, i) in boxItems\" \n        :itemData=\"item\" :key=\"i\" :type=\"'caseWeapon'\">\n      </weapon-item-default>\n    </board>\n  </div>\n</template>\n\n<script>\nimport Api from '@/api';\nimport BoardTitle from '@/components/partials/BoardTitle';\nimport WeaponItemDefault from '@/components/partials/WeaponItemDefault';\nimport Board from '@/components/partials/Board';\nimport Breadcrumbs from '@/components/partials/Breadcrumbs';\nimport CaseItem from '@/components/partials/CaseItem';\nimport { swiper, swiperSlide } from 'vue-awesome-swiper'\nimport ClickOutside from 'vue-click-outside';\nimport { mapMutations } from 'vuex';\nimport _ from 'lodash';\n\nexport default {\n  props: ['id'],\n  directives: {\n    ClickOutside\n  },\n  components: {\n    BoardTitle,\n    WeaponItemDefault,\n    Board,\n    CaseItem,\n    Breadcrumbs,\n    swiper,\n    swiperSlide,\n    Deposit: () => import('@/components/modals/AlertDeposit')\n  },\n  mounted() {\n    this.caseInfo();\n  },\n  computed: {\n    priceToPay() {\n      return this.boxInfo.price * this.casesToOpen;\n    },\n    buttonText() {\n      return this.casesToOpen > 1 ? 'Those cases' : 'This case';\n    },\n    isCaseToShow() {\n      for (let key in this.spinnerItems) {\n        return _.isEmpty(this.spinnerItems[key]);\n      }\n    }\n  },\n  methods: {\n    ...mapMutations('modals', ['setWonItems']),\n    ...mapMutations('auth', ['setUserBalance']),\n    chooseCaseNumber(number) {\n      this.casesToOpen = number;\n      this.isDropdown = false;\n    },\n\n    async reopenCase() {\n      try {\n        const { data } = await Api.reopenCase(this.id);\n        this.casesToOpen = data.items.length;\n        data.items.forEach((item, i) => {\n          this.spinnerItems[i] = [...item, ...item];\n        });\n        this.isOpen = true;\n        this.setUserBalance(data.balance);\n        this.loading = false;\n      } catch (e) {\n        this.loading = false;\n        throw new Error(e);\n      }\n    },\n\n    async caseInfo() {\n      try {\n        this.loading = true;\n        const { data } = await Api.getCaseInfo(this.id);\n        this.boxItems = data.box_items;\n        this.boxInfo = data.box;\n\n        if (data.reopen) {\n          this.reopenCase();\n        } else {\n          this.loading = false;\n        }\n      } catch (e) {\n        this.loading = false;\n      }\n    },\n\n    async openCases() {\n      if (this.isInSpin) return;\n\n      this.isInSpin = true;\n      this.$refs.mySwiper.forEach((item, i) => {\n        this.$refs.mySwiper[i].swiper.slideTo(46, 7000);\n      });\n \n      setTimeout(() => {\n        this.isFinish = true;\n      }, 7000);\n\n      setTimeout(async () => {\n        const { data } = await Api.resultOfCase(this.id);\n        for (let key in this.spinnerItems) {\n          this.spinnerItems[key] = [];\n        }\n        this.isOpen = false;\n        this.isInSpin = false;\n        this.isFinish = false;\n        this.setWonItems(data.prize);\n      }, 8500);\n    },\n\n    async buyCases() {\n      try {\n        this.loading = true;\n        const { data } = await Api.buyCase(this.id, this.casesToOpen);\n        if (data.result) {\n          data.items.forEach((item, i) => {\n            this.spinnerItems[i] = [...item, ...item];\n          });\n          this.isOpen = true;\n          this.setUserBalance(data.balance);\n        } else {\n          this.errorMsg = data.msg;\n          this.isError = true;\n          this.modalDeposti = true\n        }\n\n        this.loading = false;\n      } catch (e) {\n        throw new Error(e);\n      }\n    }\n  },\n  data() {\n    return {\n      breadcrumbs: ['Casedrop Cases', this.id],\n      boxItems: [],\n      spinnerItems: {\n        0: [],\n        1: [],\n        2: [],\n        3: [],\n        4: [],\n      },\n      isDropdown: false,\n      isInSpin: false,\n      isFinish: false,\n      isError: false,\n      modalDeposti: false,\n      errorMsg: '',\n      casesToOpen: 1,\n      isOpen: false,\n      amountOfCases: [1, 2, 3, 4, 5],\n\n      boxInfo: {},\n      loading: true,\n      swiperOption: {\n        slidesPerView: 6,\n        initialSlide: 3,\n        setWrapperSize: true,\n        spaceBetween: 0,\n        touchRatio: 0,\n        centeredSlides: true,\n      },\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/partials/_colors.scss';\n.case-btn {\n  width: 240px;\n  &--disabled {\n    opacity: .5;\n    cursor: default;\n  }\n}\n\n.spinner__wrapper--case {\n  height: calc(100vh - 90px - 187px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.box-slider--action .swiper-slide {\n  opacity: .25;\n  transition: $transition-time;\n}\n\n.box-slider--finish .swiper-slide-prev, .box-slider--finish .swiper-slide-next {\n  opacity: .6;\n}\n\n.box-slider--finish .swiper-slide-active {\n  opacity: 1;\n}\n\n.case-items__wrapper {\n  max-height: 230px !important;\n  transition: all .5s;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n\n.box-slider {\n  margin-bottom: 10px;\n  transition: $transition-time;\n  /*opacity: .5;*/\n  &:after {\n    content: '';\n    display: block;\n    width: 10px;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    background: url(~img/red-partition.svg) no-repeat top center;\n    z-index: 2;\n  }\n  .swiper-slide {\n    opacity: .5;\n    &.swiper-slide-prev, &.swiper-slide-next {\n      opacity: .75;\n    }\n    &.swiper-slide-active {\n      opacity: 1;\n    }\n  }\n}\n\n\n\n.amount-case-picker {\n  margin-top: 20px;\n}\n\n.outer-slider-row {\n  margin-bottom: 10px;\n  .slider-rirle {\n    text-align: center;\n    color: $grey-text;\n    font-family: SofiaProMedium, sans-serif;\n    font-size: 17px;\n    text-transform: uppercase;\n    margin-bottom: 25px;\n  }\n}\n\n.custom-dropdown {\n  width: 240px;\n  height: 35px;\n  border-radius: 30px;\n  background: rgba(0, 0, 0, .2);\n  position: relative;\n  .dropdown-title {\n    font-size: 16px;\n    color: $grey-text;\n    text-align: center;\n    line-height: 34px;\n    cursor: pointer;\n    &:after {\n      content: \"\\e900\";\n      font-family: drop;\n      font-size: 12px;\n      color: $grey-text;\n      transform: rotate(-90deg);\n      display: inline-block;\n      margin-left: 10px;\n      transition: all .2s;\n      transform-origin: center;\n    }\n  }\n  &.show {\n    .dropdown-title {\n      &:after {\n        transform: rotate(90deg);\n      }\n    }\n  }\n  .case-counter {\n    /*color: #fff;*/\n    margin-left: 5px;\n  }\n  // .dropdown-list {\n  //   position: absolute;\n  //   z-index: 2;\n  //   top: calc(100% + 15px);\n  //   right: 22px;\n  //   padding: 10px;\n  //   background: #1b1823;\n  // }\n  .dropdown-triangle {\n    position: absolute;\n    right: 20px;\n    top: -20px;\n    border: 10px solid transparent;\n    border-bottom: 10px solid #1b1823;\n  }\n  .dropdown-list-item {\n    font-size: 14px;\n    color: $grey-text;\n    padding: 5px;\n    cursor: pointer;\n    &:hover {\n      color: #fff;\n    }\n  }\n}\n\n.custom-dropdown.show {\n  .dropdown-list {\n    display: block;\n  }\n}\n</style>\n"],"sourceRoot":"src/pages"}]}