{"remainingRequest":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/components/header/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/components/header/Header.vue","mtime":1559595585045},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/cache-loader/dist/cjs.js","mtime":1559595767902},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport 'swiper/dist/css/swiper.css';\nimport constants from '@/constants';\nimport WeaponItemHeader from '@/components/partials/WeaponItemHeader';\nimport _ from 'lodash';\nimport { swiper, swiperSlide } from 'vue-awesome-swiper';\nexport default {\n  components: {\n    WeaponItemHeader: WeaponItemHeader,\n    swiper: swiper,\n    swiperSlide: swiperSlide\n  },\n  data: function data() {\n    return {\n      weapons: [],\n      leftDistance: 0,\n      topDistance: 0,\n      rightDistance: 0,\n      viewportWidth: 0,\n      widthOfElement: 0,\n      newWeapons: [],\n      currentHoverItem: null,\n      isHidden: false,\n      isStop: false,\n      loading: true,\n      swiperOption: {\n        slidesPerView: 12,\n        touchRatio: 0,\n        setWrapperSize: true,\n        spaceBetween: 0,\n        breakpoints: {\n          1440: {\n            slidesPerView: 10\n          },\n          1200: {\n            slidesPerView: 8\n          },\n          992: {\n            slidesPerView: 6\n          },\n          575: {\n            slidesPerView: 5\n          },\n          480: {\n            slidesPerView: 4\n          },\n          400: {\n            slidesPerView: 3\n          }\n        }\n      }\n    };\n  },\n  computed: {\n    isLastLeft: function isLastLeft() {\n      return this.leftDistance < 270 || this.leftDistance === 76 || this.leftDistance === 0;\n    },\n    isLastRight: function isLastRight() {\n      return this.viewportWidth - this.leftDistance < this.widthOfElement * 2;\n    },\n    computedLeftDistance: function computedLeftDistance() {\n      if (this.isLastLeft) {\n        return \"\".concat(this.leftDistance + this.widthOfElement + (this.widthOfElement < 97 ? 10 : 0), \"px\");\n      }\n\n      if (this.isLastRight) {\n        return \"\".concat(this.leftDistance - (this.widthOfElement < 97 ? 10 : 0), \"px\");\n      }\n\n      return \"\".concat(this.leftDistance + this.widthOfElement / 2, \"px\");\n    }\n  },\n  methods: {\n    toUser: function toUser(id) {\n      this.$router.push(\"/user/\".concat(id));\n    },\n    toggleTopBar: function toggleTopBar() {\n      this.isHidden = !this.isHidden;\n      document.querySelector('.main').classList.toggle('hide-top-row');\n    },\n    caseImgUrl: function caseImgUrl(imgUrl) {\n      return \"\".concat(constants.imgUrl).concat(imgUrl);\n    },\n    getLeftDistance: function getLeftDistance(el) {\n      var rect = el.getBoundingClientRect();\n      var docEl = document.documentElement;\n      this.viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n      this.widthOfElement = rect.width;\n      this.leftDistance = rect.left + (window.pageXOffset || docEl.scrollLeft || 0);\n      this.topDistance = 100 + rect.top + (window.pageYOffset || docEl.scrollTop || 0);\n      this.rightDistance = rect.right - (window.pageXOffset || docEl.scrollRight || 0);\n    },\n    over: function over(e, id) {\n      this.isStop = true;\n      this.getLeftDistance(e.target);\n      this.currentHoverItem = this.weapons.find(function (weapon) {\n        return weapon._id === id;\n      });\n    },\n    addNewWeapons: function addNewWeapons() {\n      var _this = this;\n\n      if (this.newWeapons.length && !this.isStop && !this.isHidden) {\n        this.weapons = _.drop(this.weapons, this.newWeapons[0].length);\n        this.$nextTick(function () {\n          _this.weapons = _this.weapons.concat(_this.newWeapons[0]);\n\n          _this.newWeapons.shift();\n\n          _this.$nextTick(function () {\n            _this.$refs.mySwiper.swiper.slideTo(20, 700);\n          });\n        });\n      }\n    }\n  },\n  mounted: function mounted() {// setInterval(() => {\n    //   this.addNewWeapons();\n    // }, 2000);\n  },\n  sockets: {// items(val) {\n    //   if (!this.isHidden && this.newWeapons.length < 20) {\n    //     this.newWeapons.push(JSON.parse(val));\n    //   } \n    // },\n    // drops(val) {\n    //   this.weapons = JSON.parse(val);\n    //   this.loading = false;\n    //   this.$nextTick(() => {\n    //     this.$refs.mySwiper.swiper.slideTo(20, 700); \n    //   }); \n    // }\n  }\n};",{"version":3,"sources":["Header.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"position: relative\" @mouseleave=\"isStop = false\">\n    <div class=\"header-items__overlay\" @mouseover.native=\"isStop = true\"></div>\n\n    <div class=\"top-items-btn\" @click=\"toggleTopBar\"></div>\n    <swiper v-if=\"!loading\" \n      class=\"top-items-row\" \n      ref=\"mySwiper\" \n      :options=\"swiperOption\">\n      <swiperSlide style=\"text-align: center\" \n        @mouseover.native=\"over($event, weapon._id)\"\n        v-for=\"weapon in weapons\" :key=\"weapon._id\">\n        <div class=\"weapon-header__overlay\" />\n\n        <WeaponItemHeader :itemData=\"weapon\">\n        </WeaponItemHeader>\n      </swiperSlide>\n    </swiper>\n\n    <transition name=\"fade\">\n      <div class=\"weapon-header__dropdown\" \n        @mouseover.native=\"isStop = true\" \n        :class=\"`weapon-header__dropdown--${currentHoverItem._weaponRarity}`\" \n        :style=\"`left: ${computedLeftDistance}; top: ${topDistance}px`\" v-if=\"isStop\">\n        <div class=\"weapon-header__triangle\"\n              :class=\"{ 'weapon-header__triangle--right': isLastRight, 'weapon-header__triangle--left': isLastLeft }\" />\n        <div class=\"weapon-header__user\" @click=\"toUser(currentHoverItem._owner)\">\n          <img class=\"weapon-header__user-avatar\" :src=\"currentHoverItem._ownerImageURL\" alt=\"user avatar\">\n          <div class=\"weapon-header__user-name\">{{ currentHoverItem._ownerName }}</div>\n        </div>\n        <div class=\"weapon-header__name\">{{ currentHoverItem._name_hash }}</div>\n        <img class=\"weapon-header__dropdown-img\" :src=\"caseImgUrl(currentHoverItem._caseImage)\" alt=\"case img\">\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport 'swiper/dist/css/swiper.css'\nimport constants from '@/constants';\nimport WeaponItemHeader from '@/components/partials/WeaponItemHeader';\nimport _ from 'lodash';\n\nimport { swiper, swiperSlide } from 'vue-awesome-swiper'\nexport default {\n  components: {\n    WeaponItemHeader,\n    swiper,\n    swiperSlide\n  },\n  data() {\n    return {\n      weapons: [],\n      leftDistance: 0,\n      topDistance: 0,\n      rightDistance: 0,\n      viewportWidth: 0,\n      widthOfElement: 0,\n      newWeapons: [],\n      currentHoverItem: null,\n      isHidden: false,\n      isStop: false,\n      loading: true,\n      swiperOption: {\n        slidesPerView: 12,\n        touchRatio: 0,\n        setWrapperSize: true,\n        spaceBetween: 0,\n        breakpoints: {\n          1440: {\n            slidesPerView: 10,\n          },\n          1200: {\n            slidesPerView: 8,\n          },\n          992: {\n            slidesPerView: 6,\n          },\n          575: {\n            slidesPerView: 5,\n          },\n          480: {\n            slidesPerView: 4,\n          },\n          400: {\n            slidesPerView: 3,\n          }\n        }\n      },\n    }\n  },\n  computed: {\n    isLastLeft() {\n      return this.leftDistance < 270 || this.leftDistance === 76 || this.leftDistance === 0;\n    },\n    isLastRight() {\n      return this.viewportWidth - this.leftDistance < (this.widthOfElement * 2);\n    },\n    computedLeftDistance() {\n      if (this.isLastLeft) {\n        return `${this.leftDistance + this.widthOfElement + (this.widthOfElement < 97 ? 10 : 0)}px`;\n      }\n      if (this.isLastRight) {\n        return `${this.leftDistance - (this.widthOfElement < 97 ? 10 : 0)}px`;\n      }\n\n      return `${this.leftDistance + this.widthOfElement / 2}px`;\n    },\n  },\n  methods: {\n    toUser(id) {\n      this.$router.push(`/user/${id}`);\n    },\n    toggleTopBar() {\n      this.isHidden = !this.isHidden;\n      document.querySelector('.main').classList.toggle('hide-top-row');\n    },\n    caseImgUrl(imgUrl) {\n      return `${constants.imgUrl}${imgUrl}`;\n    },\n    getLeftDistance(el) {\n      const rect = el.getBoundingClientRect();\n      const docEl = document.documentElement;\n      this.viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n      this.widthOfElement = rect.width;\n      this.leftDistance = rect.left + (window.pageXOffset || docEl.scrollLeft || 0);\n      this.topDistance = 100 + rect.top + (window.pageYOffset || docEl.scrollTop || 0);\n      this.rightDistance = rect.right - (window.pageXOffset || docEl.scrollRight || 0);\n    },\n    over(e, id) {\n      this.isStop = true;\n      this.getLeftDistance(e.target);\n      this.currentHoverItem = this.weapons.find(weapon => weapon._id === id);\n    },\n    addNewWeapons() {\n      if (this.newWeapons.length && !this.isStop && !this.isHidden) {\n        this.weapons = _.drop(this.weapons, this.newWeapons[0].length);\n        this.$nextTick(() => {\n          this.weapons = this.weapons.concat(this.newWeapons[0]);\n          this.newWeapons.shift();\n            this.$nextTick(() => {\n              this.$refs.mySwiper.swiper.slideTo(20, 700); \n            }); \n        })\n      }\n    },\n  },\n  mounted() {\n    // setInterval(() => {\n    //   this.addNewWeapons();\n    // }, 2000);\n  },\n  sockets:{\n      // items(val) {\n      //   if (!this.isHidden && this.newWeapons.length < 20) {\n      //     this.newWeapons.push(JSON.parse(val));\n      //   } \n      // },\n      // drops(val) {\n      //   this.weapons = JSON.parse(val);\n      //   this.loading = false;\n      //   this.$nextTick(() => {\n      //     this.$refs.mySwiper.swiper.slideTo(20, 700); \n      //   }); \n      // }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/partials/_colors.scss';\n\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .3s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n.weapon-header__overlay {\n  position: absolute;\n  z-index: 100;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n\n.header-items__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100px;\n  left: 0;\n  top: 0;\n}\n\n.top-items-row {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: calc(100% - 240px);\n  height: 90px;\n  margin-left: 240px;\n  transition: transform .3s;\n  z-index: 3;\n  background: linear-gradient(3deg, #392f4a 0%, #25243b 100%);\n  .swiper-slide {\n    .weapon-header {\n      img {\n        max-width: 80px;\n      }\n    }\n  }\n}\n\n.top-items-btn {\n  height: 0;\n  width: 42px;\n  position: fixed;\n  left: calc(50% + 120px);\n  top: 0;\n  transform: translateX(-50%);\n  cursor: pointer;\n  z-index: 9;\n  border-top: 16px solid rgba(255, 255, 255, .1);\n  border-left: 15px solid transparent;\n  border-right: 15px solid transparent;\n  &:before {\n    content: \"\\e900\";\n    font-family: drop;\n    color: $grey-text;\n    position: absolute;\n    top: -16px;\n    left: 19px;\n    font-size: 12px;\n    transform: rotate(90deg);\n    display: block;\n    width: 4px;\n    height: 15px;\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .top-items-btn {\n    left: 50%;\n    top: 74px;\n  }\n  .top-items-row {\n    margin-left: 0;\n    width: 100%;\n    top: 75px;\n  }\n}\n</style>\n\n"],"sourceRoot":"src/components/header"}]}