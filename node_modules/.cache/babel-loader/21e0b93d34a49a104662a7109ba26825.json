{"remainingRequest":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/pages/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/pages/User.vue","mtime":1559595585188},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/cache-loader/dist/cjs.js","mtime":1559595767902},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/@babel/runtime/helpers/builtin/es6/asyncToGenerator\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UserInfo from '@/components/user/UserInfo';\nimport ItemsSell from '@/components/user/ItemsSell';\nimport Breadcrumbs from '@/components/partials/Breadcrumbs';\nimport Api from '@/api';\nimport Board from '@/components/partials/Board';\nimport { mapState } from 'vuex';\nimport BoardTitle from '@/components/partials/BoardTitle';\nimport WeaponItemUser from '@/components/partials/WeaponItemUser';\nexport default {\n  components: {\n    UserInfo: UserInfo,\n    ItemsSell: ItemsSell,\n    BoardTitle: BoardTitle,\n    Board: Board,\n    WeaponItemUser: WeaponItemUser,\n    Breadcrumbs: Breadcrumbs\n  },\n  watch: {\n    $route: {\n      immediate: true,\n      handler: function () {\n        var _handler = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee(val) {\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  this.getUserCases();\n\n                  if (val.name === 'user') {\n                    this.getUserInfo(val.params.id);\n                  } else {\n                    this.getUserTable();\n                    this.userInfo = this.user;\n                  }\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        return function handler(_x) {\n          return _handler.apply(this, arguments);\n        };\n      }()\n    },\n    currentPage: function currentPage() {\n      this.getUserCases();\n    }\n  },\n  computed: _objectSpread({}, mapState('auth', ['user']), {\n    isLoggedUser: function isLoggedUser() {\n      return this.$route.name === 'loggedUser';\n    },\n    userId: function userId() {\n      return this.isLoggedUser ? this.user.steam_id : this.$route.params.id;\n    }\n  }),\n  methods: {\n    getUserCases: function () {\n      var _getUserCases = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _ref, data;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Api.userUserCases(this.userId, this.currentPage);\n\n              case 2:\n                _ref = _context2.sent;\n                data = _ref.data;\n                this.userCases = data.data;\n                console.log(data);\n                this.metaData = data.meta;\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function getUserCases() {\n        return _getUserCases.apply(this, arguments);\n      };\n    }(),\n    getUserInfo: function () {\n      var _getUserInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(id) {\n        var _ref2, data;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return Api.getUserInfo(id);\n\n              case 3:\n                _ref2 = _context3.sent;\n                data = _ref2.data;\n                this.userInfo = data.user;\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](0);\n                throw new Error(_context3.t0);\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      return function getUserInfo(_x2) {\n        return _getUserInfo.apply(this, arguments);\n      };\n    }(),\n    getUserTable: function () {\n      var _getUserTable = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return Api.userTable();\n\n              case 3:\n                response = _context4.sent;\n                console.log(response);\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                throw new Error(_context4.t0);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 7]]);\n      }));\n\n      return function getUserTable() {\n        return _getUserTable.apply(this, arguments);\n      };\n    }()\n  },\n  data: function data() {\n    return {\n      breadcrumbs: ['Home', 'Casedrop.com'],\n      userCases: [],\n      userInfo: null,\n      metaData: [],\n      currentPage: 1\n    };\n  }\n};",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,QAAA,MAAA,4BAAA;AACA,OAAA,SAAA,MAAA,6BAAA;AACA,OAAA,WAAA,MAAA,mCAAA;AACA,OAAA,GAAA,MAAA,OAAA;AACA,OAAA,KAAA,MAAA,6BAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,UAAA,MAAA,kCAAA;AACA,OAAA,cAAA,MAAA,sCAAA;AAEA,eAAA;AACA,cAAA;AACA,sBADA;AAEA,wBAFA;AAGA,0BAHA;AAIA,gBAJA;AAKA,kCALA;AAMA;AANA,GADA;AASA,SAAA;AACA,YAAA;AACA,iBAAA,IADA;AAEA,aAFA;AAAA;AAAA;AAAA,iDAEA,GAFA;AAAA;AAAA;AAAA;AAAA;AAGA,uBAAA,YAAA;;AAEA,sBAAA,IAAA,IAAA,KAAA,MAAA,EAAA;AACA,yBAAA,WAAA,CAAA,IAAA,MAAA,CAAA,EAAA;AACA,mBAFA,MAEA;AACA,yBAAA,YAAA;AACA,yBAAA,QAAA,GAAA,KAAA,IAAA;AACA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,KADA;AAcA,eAdA,yBAcA;AACA,WAAA,YAAA;AACA;AAhBA,GATA;AA2BA,8BACA,SAAA,MAAA,EAAA,CAAA,MAAA,CAAA,CADA;AAEA,gBAFA,0BAEA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,KAAA,YAAA;AACA,KAJA;AAKA,UALA,oBAKA;AACA,aAAA,KAAA,YAAA,GAAA,KAAA,IAAA,CAAA,QAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA;AAPA,IA3BA;AAoCA,WAAA;AACA,gBADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,IAAA,aAAA,CAAA,KAAA,MAAA,EAAA,KAAA,WAAA,CAFA;;AAAA;AAAA;AAEA,oBAFA,QAEA,IAFA;AAGA,qBAAA,SAAA,GAAA,KAAA,IAAA;AACA,wBAAA,GAAA,CAAA,IAAA;AACA,qBAAA,QAAA,GAAA,KAAA,IAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAOA,eAPA;AAAA;AAAA;AAAA,gDAOA,EAPA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBASA,IAAA,WAAA,CAAA,EAAA,CATA;;AAAA;AAAA;AASA,oBATA,SASA,IATA;AAUA,qBAAA,QAAA,GAAA,KAAA,IAAA;AAVA;AAAA;;AAAA;AAAA;AAAA;AAAA,sBAYA,IAAA,KAAA,cAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAeA,gBAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAiBA,IAAA,SAAA,EAjBA;;AAAA;AAiBA,wBAjBA;AAkBA,wBAAA,GAAA,CAAA,QAAA;AAlBA;AAAA;;AAAA;AAAA;AAAA;AAAA,sBAoBA,IAAA,KAAA,cApBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,GApCA;AA4DA,MA5DA,kBA4DA;AACA,WAAA;AACA,mBAAA,CAAA,MAAA,EAAA,cAAA,CADA;AAEA,iBAAA,EAFA;AAGA,gBAAA,IAHA;AAIA,gBAAA,EAJA;AAKA,mBAAA;AALA,KAAA;AAOA;AApEA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <breadcrumbs :breadcrumbs=\"breadcrumbs\"></breadcrumbs>\n\n    <user-info :userInfo=\"userInfo\"></user-info>\n    \n    <items-sell v-if=\"isLoggedUser\"></items-sell>\n\n    <board-title :type=\"'csgocases'\">\n      <span>Items</span>\n      <span class=\"board-case-counter\">{{ userCases.length }} cases opened</span>\n    </board-title>\n\n    <board>\n      <weapon-item-user v-for=\"weapon in userCases\" :itemData=\"weapon\" :key=\"weapon._id\"></weapon-item-user>\n    </board>\n\n    <!-- <div class=\"pagination-row\" v-if=\"metaData.last_page > 1\">\n      <div class=\"pagination-item\" @click=\"currentPage = (i + 1)\" :class=\"currentPage === (i + 1) ? 'active' : ''\" \n        v-for=\"(item, i) in metaData.last_page\" :key=\"i\">\n        {{ i + 1 }}\n      </div>\n    </div> -->\n  </div>\n</template>\n\n<script>\n  import UserInfo from '@/components/user/UserInfo';\n  import ItemsSell from '@/components/user/ItemsSell';\n  import Breadcrumbs from '@/components/partials/Breadcrumbs';\n  import Api from '@/api';\n  import Board from '@/components/partials/Board';\n  import { mapState } from 'vuex';\n  import BoardTitle from '@/components/partials/BoardTitle';\n  import WeaponItemUser from '@/components/partials/WeaponItemUser';\n\n  export default {\n    components: {\n      UserInfo,\n      ItemsSell,\n      BoardTitle,\n      Board,\n      WeaponItemUser,\n      Breadcrumbs\n    },\n    watch: {\n      $route: {\n        immediate: true,\n        async handler(val) {\n          this.getUserCases();\n\n          if (val.name === 'user') {\n            this.getUserInfo(val.params.id);\n          } else {\n            this.getUserTable();\n            this.userInfo = this.user;\n          }\n        }\n      },\n      currentPage() {\n        this.getUserCases();\n      }\n    },\n    computed: {\n      ...mapState('auth', ['user']),\n      isLoggedUser() {\n        return this.$route.name === 'loggedUser';\n      },\n      userId() {\n        return this.isLoggedUser ? this.user.steam_id : this.$route.params.id;\n      }\n    },\n    methods: {\n      async getUserCases() {\n        const { data } = await Api.userUserCases(this.userId, this.currentPage);\n        this.userCases = data.data;\n        console.log(data);\n        this.metaData = data.meta;\n      },\n      async getUserInfo(id) {\n        try {\n          const { data } = await Api.getUserInfo(id);\n          this.userInfo = data.user;\n        } catch (e) {\n          throw new Error(e);\n        }\n      },\n      async getUserTable() {\n        try {\n          const response = await Api.userTable();\n          console.log(response);\n        } catch (e) {\n          throw new Error(e);\n        }\n      }\n    },\n    data() {\n      return {\n        breadcrumbs: ['Home', 'Casedrop.com'],\n        userCases: [],\n        userInfo: null,\n        metaData: [],\n        currentPage: 1\n      }\n    }\n  };\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/partials/_colors.scss';\n.pagination-row {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-bottom: 30px;\n  .pagination-item {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    cursor: pointer;\n    background: rgba(0, 0, 0, .2);\n    color: $grey-text;\n    line-height: 34px;\n    text-align: center;\n    margin-right: 10px;\n    &.active {\n      background: linear-gradient(90deg, #ef2849 0%, #7568e7 100%);\n      color: #fff;\n    }\n  }\n}\n\n.board-case-counter {\n  font-size: 17px;\n  text-transform: uppercase;\n  color: $light-grey-text;\n}\n\n@media screen and (max-width: 480px){\n  .board-case-counter {\n    display: none;\n  }\n}\n</style>"],"sourceRoot":"src/pages"}]}