{"remainingRequest":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/components/partials/WeaponItemUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/src/components/partials/WeaponItemUser.vue","mtime":1559595585042},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/cache-loader/dist/cjs.js","mtime":1559595767902},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/v/volodkji/andy.puduland.com/public_html/vuejs/casadrop/node_modules/@babel/runtime/helpers/builtin/es6/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ProgressBar from 'progressbar.js';\nimport constants from '@/constants';\nimport Api from '@/api';\nexport default {\n  props: {\n    itemData: Object\n  },\n  computed: {\n    imageUrl: function imageUrl() {\n      return \"\".concat(constants.imgUrl).concat(this.itemData.image_id);\n    },\n    isLoggedUser: function isLoggedUser() {\n      return this.$route.name === 'loggedUser';\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.$refs.weaponItem) {\n      this.handleScroll(this.$refs.weaponItem);\n    }\n\n    window.addEventListener('scroll', function () {\n      if (_this.$refs.weaponItem) {\n        _this.handleScroll(_this.$refs.weaponItem);\n      }\n    });\n  },\n  methods: {\n    sendItem: function () {\n      var _sendItem = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, data;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return Api.sendItem(this.itemData.prize_id);\n\n              case 3:\n                _ref = _context.sent;\n                data = _ref.data;\n                console.log(data);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                throw new Error(_context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      return function sendItem() {\n        return _sendItem.apply(this, arguments);\n      };\n    }(),\n    isElementInViewport: function isElementInViewport(el) {\n      var rect = el.getBoundingClientRect();\n      return rect.top >= -10 && rect.left >= -10 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);\n    },\n    handleScroll: function handleScroll(e) {\n      var circleCounter = e.querySelectorAll('svg').length;\n      var element = e.querySelector('.weapon-user__circle');\n\n      if (!circleCounter && this.isElementInViewport(element)) {\n        var circle = new ProgressBar.Circle(element, {\n          color: '#fb8d00',\n          strokeWidth: 2,\n          trailColor: 'transparent',\n          easing: 'easeInOut'\n        });\n        circle.animate(1.9, {\n          duration: 1000\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["WeaponItemUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,WAAA,MAAA,gBAAA;AACA,OAAA,SAAA,MAAA,aAAA;AACA,OAAA,GAAA,MAAA,OAAA;AAEA,eAAA;AACA,SAAA;AACA,cAAA;AADA,GADA;AAIA,YAAA;AACA,YADA,sBACA;AACA,uBAAA,UAAA,MAAA,SAAA,KAAA,QAAA,CAAA,QAAA;AACA,KAHA;AAIA,gBAJA,0BAIA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,KAAA,YAAA;AACA;AANA,GAJA;AAYA,SAZA,qBAYA;AAAA;;AACA,QAAA,KAAA,KAAA,CAAA,UAAA,EAAA;AACA,WAAA,YAAA,CAAA,KAAA,KAAA,CAAA,UAAA;AACA;;AACA,WAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,MAAA,KAAA,CAAA,UAAA,EAAA;AACA,cAAA,YAAA,CAAA,MAAA,KAAA,CAAA,UAAA;AACA;AACA,KAJA;AAKA,GArBA;AAsBA,WAAA;AACA,YADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,IAAA,QAAA,CAAA,KAAA,QAAA,CAAA,QAAA,CAHA;;AAAA;AAAA;AAGA,oBAHA,QAGA,IAHA;AAIA,wBAAA,GAAA,CAAA,IAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAAA,sBAMA,IAAA,KAAA,aANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AASA,uBATA,+BASA,EATA,EASA;AACA,UAAA,OAAA,GAAA,qBAAA,EAAA;AACA,aACA,KAAA,GAAA,IAAA,CAAA,EAAA,IACA,KAAA,IAAA,IAAA,CAAA,EADA,IAEA,KAAA,MAAA,KAAA,OAAA,WAAA,IAAA,SAAA,eAAA,CAAA,YAAA,CAFA,IAGA,KAAA,KAAA,KAAA,OAAA,UAAA,IAAA,SAAA,eAAA,CAAA,WAAA,CAJA;AAMA,KAjBA;AAkBA,gBAlBA,wBAkBA,CAlBA,EAkBA;AACA,UAAA,gBAAA,EAAA,gBAAA,CAAA,KAAA,EAAA,MAAA;AACA,UAAA,UAAA,EAAA,aAAA,CAAA,sBAAA,CAAA;;AAEA,UAAA,CAAA,aAAA,IAAA,KAAA,mBAAA,CAAA,OAAA,CAAA,EAAA;AACA,YAAA,SAAA,IAAA,YAAA,MAAA,CAAA,OAAA,EAAA;AACA,iBAAA,SADA;AAEA,uBAAA,CAFA;AAGA,sBAAA,aAHA;AAIA,kBAAA;AAJA,SAAA,CAAA;AAOA,eAAA,OAAA,CAAA,GAAA,EAAA;AACA,oBAAA;AADA,SAAA;AAGA;AACA;AAlCA;AAtBA,CAAA","sourcesContent":["<template>\n  <div class=\"weapon-user\" ref=\"weaponItem\" :class=\"`weapon-user--${itemData.rarity}`\">\n    <div class=\"weapon-user__btns\" v-if=\"isLoggedUser\">\n      <template v-if=\"itemData.status === 'sold'\">\n        <div class=\"weapon-user__status\" :class=\"`weapon-user__status--${itemData.status}`\">\n          {{ itemData.status }}\n        </div>\n        <div class=\"weapon-user__price\">${{ itemData.price | priceFormater }}</div>\n      </template>\n      <template v-if=\"itemData.status === 'waiting'\">\n        <div class=\"hover-btn send-btn\" data-text=\"Send\" @click=\"sendItem\"></div>\n        <div class=\"hover-btn sell-btn\" :data-text=\"`Sell for $${itemData.price}`\"></div>\n      </template>\n    </div>\n\n    <div class=\"weapon-user__btns\" v-else>\n      <div class=\"weapon-user__status\" :class=\"`weapon-user__status--${itemData.status}`\">\n        {{ itemData.status }}\n      </div>\n      <div class=\"weapon-user__price\">${{ itemData.price | priceFormater }}</div>\n    </div>\n    <div class=\"weapon-user__bg-wrapper\">\n      <div class=\"weapon-user__circle\"></div>\n      <div  v-for=\"(item, i) in 4\" \n            class=\"weapon-user__bg\" :key=\"i\" \n            :class=\"`weapon-user__bg--${i + 1}`\">\n      </div>\n    </div>\n\n    <img :src=\"imageUrl\" alt=\"\" class=\"weapon-user__img\">\n    <div class=\"weapon-user__name\">\n      <div>{{ itemData.name_hash.split('|')[0] }}</div>\n      <div>{{ itemData.name_hash.split('|')[1] }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProgressBar from 'progressbar.js';\nimport constants from '@/constants';\nimport Api from '@/api';\n\nexport default {\n  props: {\n    itemData: Object\n  },\n  computed: {\n    imageUrl() {\n      return `${constants.imgUrl}${this.itemData.image_id}`;\n    },\n    isLoggedUser() {\n      return this.$route.name === 'loggedUser';\n    }\n  },\n  mounted() {\n    if (this.$refs.weaponItem) {\n      this.handleScroll(this.$refs.weaponItem);\n    }\n    window.addEventListener('scroll', () => {\n      if (this.$refs.weaponItem) {\n        this.handleScroll(this.$refs.weaponItem);\n      }\n    });\n  },\n  methods: {\n    async sendItem() {\n      try {\n        const { data } = await Api.sendItem(this.itemData.prize_id);\n        console.log(data);\n      } catch (e) {\n        throw new Error(e);\n      }\n    },\n    isElementInViewport(el) {\n      var rect = el.getBoundingClientRect();\n      return (\n        rect.top >= -10 &&\n        rect.left >= -10 &&\n        rect.bottom <= (window.innerHeight || document. documentElement.clientHeight) &&\n        rect.right <= (window.innerWidth || document. documentElement.clientWidth)\n      );\n    },\n    handleScroll(e) {\n      const circleCounter = e.querySelectorAll('svg').length;\n      const element = e.querySelector('.weapon-user__circle');\n\n      if (!circleCounter && this.isElementInViewport(element)) {\n        var circle = new ProgressBar.Circle(element, {\n          color: '#fb8d00',\n          strokeWidth: 2,\n          trailColor: 'transparent',\n          easing: 'easeInOut'\n        });\n\n        circle.animate(1.9, {\n          duration: 1000\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/partials/_colors.scss';\n\n.weapon-user {\n  width: calc(20% - 30px);\n  height: 245px;\n  margin: 15px;\n  padding-top: 15px;\n  background: rgba(0, 0, 0, 0.2);\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);\n  border-radius: 3px;\n  position: relative;\n  /*font-family: SofiaProSemiBold, sans-serif;*/\n\n  &__name {\n    position: absolute;\n    text-align: center;\n    bottom: 10px;\n    width: 90%;\n    left: 5%;\n    div:last-child {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  &__status {\n    text-transform: capitalize;\n    &--sold {\n      &:before {\n        content: \"\\e906\";\n        font-family: drop;\n        margin-right: 10px;\n        color: $item-red;\n      }\n    }\n    &--accepted {\n      &::before {\n        content: \"\\e903\";\n        font-family: drop;\n        margin-right: 10px;\n        color: $green-color;\n      }\n    }\n    &--waiting {\n      &:before {\n        content: \"\\e910\";\n        font-family: drop;\n        margin-right: 10px;\n        color: $item-yellow;\n      }\n    }\n  }\n\n  &__btns {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 15px;\n\n    .send-btn {\n      width: 62px;\n      height: 25px;\n      font-size: 13px;\n      line-height: 20px;\n    }\n    .sell-btn {\n      width: 120px;\n      height: 25px;\n      font-size: 13px;\n      line-height: 20px;\n    }\n  }\n\n\n  &__circle {\n    width: 130px;\n    height: 130px;\n    position: absolute;\n    top: 45%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotate(198deg);\n  }\n\n  &__img {\n    position: absolute;\n    top: 45%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 64%;\n    z-index: 0;\n    pointer-events: none;\n  }\n\n  &__bg-wrapper {\n    position: absolute;\n    top: 45%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  &__bg {\n    border-radius: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    animation: inner-circle .5s;\n    transform: translate(-50%, -50%);\n  }\n\n  &__bg--4 {\n    width: 28px;\n    height: 28px;\n    animation-delay: .2s;\n    transition: all .5s;\n  }\n  &__bg--3 {\n    width: 62px;\n    height: 62px;\n    opacity: .25;\n    animation-delay: .4s;\n    transition: all .5s;\n  }\n  &__bg--2 {\n    width: 90px;\n    height: 90px;\n    opacity: .053;\n    animation-delay: .6s;\n    transition: all .5s;\n  }\n  &__bg--1 {\n    width: 130px;\n    height: 130px;\n    opacity: .03;\n    animation-delay: .8s;\n    transition: all .5s;\n  }\n}\n\n@each $name, $color in $weaponColors {\n  .weapon-user--#{$name} {\n    .weapon-user__bg {\n      background: $color;\n    }\n    .weapon-user__bg-wrapper {\n      path:nth-child(2) {\n        stroke: $color;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/partials"}]}